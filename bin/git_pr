#!/usr/bin/env bash

set -o nounset
set -o pipefail

url=$(git push -u 2>&1 | grep 'remote:.*http' | awk '{print $2}')

if [ -n "${url}" ]; then
    read -p "Do you need to open the pull request at ${url}: " decision </dev/tty
    case "$(echo "${decision}" | awk '{print tolower($0)}')" in
        y|yes|yep)
            open "${url}"
        ;;
        n|no|nope)
            echo ðŸ‘Œ
        ;;
        *)
            echo I am not sure that understand you... 'Â¯\_(ãƒ„)_/Â¯'
        ;;
    esac
fi

exit 0
